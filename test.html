<html>
<meta charset="utf-8" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
<script>
    $(document).ready(function () {
        //alert(document.getElementById("rand").value);
        $("button").click(function () {
            $.ajax({
                url: "https://github-star-index.herokuapp.com/zzz/",//"https://api.github.com/users/"+$('#rand').val()+"/repos",
                type: "GET",
                // dataType: "json",
                // data: {id}
                data: { id: $('#rand').val() },
                success: function (response) {
                    //alert(response.statusCode);
                    if (response.statusCode === 404) {
                        $("#output").html("No such user found.");
                    }
                    else {
                        console.log(response);
                        var starIndexObject = JSON.parse(JSON.stringify(response));//[0].name;
                        if (starIndexObject == "-Infinity") {
                            $("#output").html("The user has no public repository.");
                        }
                        else {
                            //$("#output").html("Star Index : " + starIndexObject);
                            myFunction(starIndexObject)
                        }
                    }
                }
            });
        });
    });

   // var obj = JSON.parse('{"starIndex":4,"starIndexRepos":[{"repo_name":"anacrowd","repo_stars":4},{"repo_name":"attachables","repo_stars":21},{"repo_name":"autogit","repo_stars":72},{"repo_name":"autogit-st","repo_stars":4},{"repo_name":"automark","repo_stars":12},{"repo_name":"docsight","repo_stars":18}]}');
    //document.getElementById("demo").innerHTML = obj.starIndex + ", " + obj.starIndexRepos[0].repo_name;
    myFunction();
    function myFunction(starIndexObject) {
        document.getElementById('output').innerHTML = "<h2> Star Index : " +starIndexObject.starIndex +"</h1>";
        var obj = starIndexObject;
        var table = document.getElementById("myTable");
        var row, cell1, cell2;
        console.log(obj.starIndexRepos.length);
        for (var i = 0; i < obj.starIndexRepos.length; i++) {
            row = table.insertRow(0);
            cell1 = row.insertCell(0);
            cell2 = row.insertCell(1);
            cell1.innerHTML = obj.starIndexRepos[i].repo_name;
            cell2.innerHTML = obj.starIndexRepos[i].repo_stars;
        }
    }
</script>
<style>
    table,
    td {
        border: 1px solid black;
    }
</style>
<h2>Create Object from JSON String</h2>

<p id="demo"></p>
<table id="myTable">

</table>
<input type="text" id="rand" />
<button id="button-container">click here</button>
<div id="output"></div>

</html>